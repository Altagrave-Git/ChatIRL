{% extends 'base.html' %}
{% block title %}
    Settings
{% endblock %}

{% block main %}
    {% if user.username == request.user.username %}
        <form action="/users/u/{{request.user.username}}/" method="POST" class="mx-auto mt-2">
            {% if messages %}
                {% for message in messages %}
                    <p class="text-danger mb-0 mt-2">{{message}}</p>
                {% endfor %}
            {% endif %}
            {% csrf_token %}

            <label for="new_username">Username:</label>
            <input class="form-control mb-3" type="text" name="new_username" id="new_username" value="{{user.username}}">

            <h4>Pick your chat colors!</h4>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="light-blue" value="light-blue" checked>
                <div class="flex-grow-1 rounded ms-2 bubble-light-blue">
                    <p class="mb-0">Light Blue</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="light-green" value="light-green">
                <div class="flex-grow-1 rounded ms-2 bubble-light-green">
                    <p class="mb-0">Light Green</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="light-red" value="light-red">
                <div class="flex-grow-1 rounded ms-2 bubble-light-red">
                    <p class="mb-0">Light Red</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="light-yellow" value="light-yellow">
                <div class="flex-grow-1 rounded ms-2 bubble-light-yellow">
                    <p class="mb-0">Light Yellow</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="white" value="white">
                <div class="flex-grow-1 rounded ms-2 bubble-white">
                    <p class="mb-0">White</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="black" value="black">
                <div class="flex-grow-1 rounded ms-2 bubble-black">
                    <p class="mb-0">Black</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="gray" value="gray">
                <div class="flex-grow-1 rounded ms-2 bubble-gray">
                    <p class="mb-0">Gray</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="blue" value="blue">
                <div class="flex-grow-1 rounded ms-2 bubble-blue">
                    <p class="mb-0">Blue</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="red" value="red">
                <div class="flex-grow-1 rounded ms-2 bubble-red">
                    <p class="mb-0">Red</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="green" value="green">
                <div class="flex-grow-1 rounded ms-2 bubble-green">
                    <p class="mb-0">Green</p>
                </div>
            </div>
            <div class="d-flex mt-1">
                <input type="radio" name="color" id="yellow" value="yellow">
                <div class="flex-grow-1 rounded ms-2 bubble-yellow">
                    <p class="mb-0">Yellow</p>
                </div>
            </div>
            <input class="btn btn-primary mt-2 ms-3" type="submit" value="Change">
        </form>
    {% else %}
        <div class="mx-auto mt-4">
            <h5>{{user.username}}</h5>

            <div class="d-flex align-items-center">
                <h6 class="my-0 me-2">Chat Color:</h6>
                <div class="bubble-{{user.color}} px-1 rounded">
                    <div class="my-0">{{user.color}}</div>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}